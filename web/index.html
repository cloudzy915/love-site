<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Demigod Style</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap" rel="stylesheet">
  <link rel="icon" href="/img/android-chrome-192x192.png" type="image/x-icon">
  <link rel="shortcut icon" href="/img/android-chrome-192x192.png" type="image/x-icon">
</head>
<body>
  <div class="floating-hearts-container"></div>

  <div class="bg-overlay"></div>

  <!-- Thẻ audio để phát nhạc -->
  <audio id="background-music" src="/audio/htca.mp3" loop muted></audio>

  <!-- Video background -->
  <div class="bg-video">
    <video autoplay muted loop id="bgVideo">
      <source src="/img/demi.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </div>

  <div class="click-to-enter">
    <p>Click to Enter</p>
  </div>

  <!-- Main content -->
  <div class="container">
    <!-- Glitch text -->
    <div class="glitch-text" data-text="Welcome to My Site">Welcome to My Site</div>

    <!-- Avatar image -->
    <div class="avatar-container">
      <a href="/iloveyou.html" target="_blank" style="display: contents;">
        <img src="/img/lanh.mp4.jpg" alt="Avatar" class="avatar-image">
      </a>
      <div class="heart-animation-container"></div>
    </div>

    <!-- Social links -->
    <div class="social-links">
      <!-- Facebook -->
      <a href="/heart.html" target="_blank" class="glow-icon" >
        <svg class="icon-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
          <path d="M22 12a10 10 0 10-11.6 9.8v-7H8v-3h2.4V9c0-2.3 1.4-3.6 3.5-3.6 1 0 2 .2 2 .2v2.3h-1.1c-1.1 0-1.4.7-1.4 1.4v1.7H17l-.3 3h-2.3v7A10 10 0 0022 12z"></path>
        </svg>
      </a>

      <!-- Instagram -->
      <a href="/love.html" target="_blank" class="glow-icon">
        <svg class="icon-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
          <path d="M20.947 8.305a6.53 6.53 0 0 0-.419-2.216a4.61 4.61 0 0 0-2.633-2.633a6.606 6.606 0 0 0-2.186-.42c-.962-.043-1.267-.055-3.709-.055s-2.755 0-3.71.055a6.606 6.606 0 0 0-2.185.42a4.607 4.607 0 0 0-2.633 2.633a6.554 6.554 0 0 0-.419 2.185c-.043.963-.056 1.268-.056 3.71s0 2.754.056 3.71c.015.748.156 1.486.419 2.187a4.61 4.61 0 0 0 2.634 2.632a6.584 6.584 0 0 0 2.185.45c.963.043 1.268.056 3.71.056s2.755 0 3.71-.056a6.59 6.59 0 0 0 2.186-.419a4.615 4.615 0 0 0 2.633-2.633c.263-.7.404-1.438.419-2.187c.043-.962.056-1.267.056-3.71c-.002-2.442-.002-2.752-.058-3.709zm-8.953 8.297c-2.554 0-4.623-2.069-4.623-4.623s2.069-4.623 4.623-4.623a4.623 4.623 0 0 1 0 9.246zm4.807-8.339a1.077 1.077 0 0 1-1.078-1.078a1.077 1.077 0 1 1 2.155 0c0 .596-.482 1.078-1.077 1.078z"></path>
        </svg>
      </a>

      <!-- TikTok -->
      <a href="/loves.html" target="_blank" class="glow-icon">
        <svg class="icon-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
          <path d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74a2.89 2.89 0 0 1 2.31-4.64a2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"></path>
        </svg>
      </a>
    </div>



    <div class="user-profile">
      <div class="user-avatar">
        <img src="/img/lanh.mp4.jpg" alt="User Avatar">
      </div>
      <div class="user-info">
        <div class="user-name">DEMIGOD</div>
        <div class="user-status">
          <span class="status-dot"></span>
          <span class="status-text">ONLINE</span>
          <span class="last-seen"></span>
        </div>
      </div>
    </div>


    <!-- View counter -->
    <div class="view-counter">Views: <span id="viewCount">0</span></div>
  </div>

  <script>
    const clickToEnter = document.querySelector('.click-to-enter');
    const container = document.querySelector('.container');
    const backgroundMusic = document.getElementById('background-music');

    // Biến để lưu trạng thái nhạc
    let isMusicPlaying = false;

    // Xử lý click để vào trang
    if (clickToEnter && container) {
      clickToEnter.addEventListener('click', function () {
        console.log("Click to Enter được nhấp!");

        // Phát nhạc nền
        if (backgroundMusic) {
          backgroundMusic.muted = false;
          backgroundMusic.play().then(() => {
            isMusicPlaying = true;
            console.log("Nhạc nền đã được phát thành công!");
          }).catch((error) => {
            console.error("Lỗi khi phát nhạc nền:", error);
          });
        }

        // Ẩn "Click to Enter" và hiển thị nội dung chính
        clickToEnter.classList.add('hidden');
        setTimeout(() => {
          container.classList.add('visible');
        }, 500);
      });
    }

    // Bật âm thanh khi người dùng nhấp vào trang
    document.addEventListener('click', function () {
      if (backgroundMusic) {
        backgroundMusic.muted = false;
      }
    });

    // View counter
    let viewCount = localStorage.getItem("viewCounter");
    if (!viewCount) viewCount = 0;
    viewCount++;
    localStorage.setItem("viewCounter", viewCount);
    document.getElementById("viewCount").textContent = viewCount;

    // Xử lý sự kiện khi tab bị ẩn hoặc hiển thị lại
    document.addEventListener('visibilitychange', () => {
      if (document.hidden) {
        // Khi tab bị ẩn, tắt nhạc
        if (backgroundMusic && !backgroundMusic.paused) {
          backgroundMusic.pause();
          console.log("Nhạc trên tab chính đã tắt do tab bị ẩn.");
        }
      } else {
        // Khi tab được hiển thị lại, tiếp tục phát nhạc nếu trước đó đang phát
        if (isMusicPlaying && backgroundMusic.paused) {
          backgroundMusic.play().then(() => {
            console.log("Nhạc trên tab chính tiếp tục phát.");
          }).catch(error => {
            console.error("Lỗi phát nhạc:", error);
          });
        }
      }
    });



    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
const source = audioContext.createBufferSource();

// Tải file nhạc
fetch('/audio/bdtnr.mp3')
  .then(response => response.arrayBuffer())
  .then(data => audioContext.decodeAudioData(data))
  .then(buffer => {
    source.buffer = buffer;
    source.loop = true;
    source.connect(audioContext.destination);
    source.start(0); // Tự động phát nhạc
  })
  .catch(err => console.error("Lỗi tải nhạc:", err));




  



  const heartContainer = document.querySelector('.heart-animation-container');

  function createHeart() {
    const heart = document.createElement('span');
    heart.classList.add('heart');
    heart.innerText = Math.random() > 0.5 ? '❤' : '💖';

    // Random vị trí trong avatar container
    const size = Math.random() * 8 + 12;
    heart.style.fontSize = `${size}px`;
    heart.style.left = `${Math.random() * 90}%`;
    heart.style.top = `${Math.random() * 80}%`;

    heartContainer.appendChild(heart);

    setTimeout(() => {
      heart.remove();
    }, 3000); // remove sau animation
  }

  setInterval(createHeart, 600); // tạo heart mỗi 0.6s






  </script>






</body>
</html>